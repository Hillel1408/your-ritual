/*!
 * Copyright (c) 2021 Momo Bassit.
 * Licensed under the MIT License (MIT)
 * https://github.com/mdbassit/fancySelect
 */
!function(e,t,n){var i=null,a="",r=null,l=0;function s(e){e=e||"select:not(.fsb-ignore)",t.querySelectorAll(e).forEach(o)}function o(e,n){if(!e.nextElementSibling||!e.nextElementSibling.classList.contains("fsb-select")){var i=e.children,a=e.parentNode,r=t.createElement("span"),s=t.createElement("span"),o=t.createElement("button"),c=t.createElement("span"),f=t.createElement("span"),b=l++;e.classList.add("fsb-original-select"),s.id="fsb_"+b+"_label",s.className="fsb-label",s.textContent=u(e,a),o.id="fsb_"+b+"_button",o.className="fsb-button",o.textContent="&nbsp;",o.setAttribute("type","button"),o.setAttribute("aria-disabled",e.disabled),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded","false"),o.setAttribute("aria-labelledby","fsb_"+b+"_label fsb_"+b+"_button"),c.className="fsb-list",c.setAttribute("role","listbox"),c.setAttribute("tabindex","-1"),c.setAttribute("aria-labelledby","fsb_"+b+"_label");for(var p=0,m=i.length;p<m;p++){var h=d(i[p],n),g=h.item,v=h.selected,E=h.itemLabel;c.appendChild(g),v&&(o.innerHTML=E)}if(r.className="fsb-select",r.appendChild(s),r.appendChild(o),r.appendChild(c),r.appendChild(f),e.style.display="none",e.nextSibling?a.insertBefore(r,e.nextSibling):a.appendChild(r),c.firstElementChild){var y=t.createElement("span");y.setAttribute("style","width: "+c.firstElementChild.offsetWidth+"px;"),f.className="fsb-resize",f.appendChild(y)}}}function c(e,n){var i=e.children,a=e.parentNode,r=e.nextElementSibling;if(r&&r.classList.contains("fsb-select")){var l=r.firstElementChild,s=l.nextElementSibling,o=s.nextElementSibling,c=o.nextElementSibling,f=t.createDocumentFragment();l.textContent=u(e,a),s.setAttribute("aria-disabled",e.disabled);for(var b=0,p=i.length;b<p;b++){var m=d(i[b],n),h=m.item,g=m.selected,v=m.itemLabel;f.appendChild(h),g&&(s.innerHTML=v)}for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(f),o.firstElementChild&&c.firstElementChild.setAttribute("style","width: "+o.firstElementChild.offsetWidth+"px;")}}function u(e,n){var i,a=e.id;if("LABEL"===n.nodeName?i=n:void 0!==a&&(i=t.querySelector('label[for="'+a+'"]')),i){var r=[].filter.call(i.childNodes,(function(e){return 3===e.nodeType})).map((function(e){return e.textContent.replace(/\s+/g," ").trim()})).filter((function(e){return""!==e}))[0];if(r)return i.onclick=function(t){e.nextElementSibling.querySelector("button").click(),t.preventDefault(),t.stopImmediatePropagation()},r}return""}function d(e,n){var i=t.createElement("span"),a=e.selected,r=function(e,t){if("function"==typeof t)return t(e);var n=e.text,i=e.getAttribute("data-icon"),a=""!==n?n:"&nbsp;";a="<span>"+a+"</span>",null!==i&&(a='<svg aria-hidden="true"><use href="'+i+'"></use></svg> '+a);return a}(e,n);return i.className="fsb-option",i.innerHTML=r,i.setAttribute("role","option"),i.setAttribute("tabindex","-1"),i.setAttribute("aria-selected",a),{item:i,selected:a,itemLabel:r}}function f(e){var n=e.getBoundingClientRect(),a=e.nextElementSibling,r=a.querySelector('[aria-selected="true"]');r||(r=a.firstElementChild),e.parentNode.className="fsb-select",e.setAttribute("aria-expanded","true"),r.focus(),i=e,n.y+n.height+a.offsetHeight>t.documentElement.clientHeight&&(e.parentNode.className="fsb-select fsb-top")}function b(e){var n=t.querySelector('.fsb-button[aria-expanded="true"]');n&&(n.setAttribute("aria-expanded","false"),e&&n.focus(),a="",r=null),i=null}function p(e){var t=e.parentNode,n=t.previousElementSibling,i=[].indexOf.call(t.children,e),a=t.querySelector('[aria-selected="true"]'),r=t.parentNode.previousElementSibling;a&&a.setAttribute("aria-selected","false"),e.setAttribute("aria-selected","true"),n.innerHTML=e.innerHTML,r.selectedIndex=i,r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0}))}function m(e){var t=function(e,t){var n,i=[].map.call(e.children,(function(e){return e.textContent.trim().toLowerCase()})),a=h(i,t)[0];if(a)return e.children[i.indexOf(a)];if((n=t.split("")).every((function(e){return e===n[0]}))){var r=h(i,t[0]),l=r[(t.length-1)%r.length];return e.children[i.indexOf(l)]}return null}(e,a);t&&t.focus()}function h(e,t){return e.filter((function(e){return 0===e.indexOf(t.toLowerCase())}))}function g(t){var n=t.key,i=t.altKey,l=t.ctrlKey,s=t.metaKey;return!(1!==n.length||i||l||s)&&(r&&e.clearTimeout(r),r=e.setTimeout((function(){a=""}),500),a+=n,!0)}function v(e,t,n,i){var a=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof n?e.addEventListener(t,(function(e){a.call(e.target,n)&&i.call(e.target,e)})):(i=n,e.addEventListener(t,i))}function E(e,n){n=void 0!==n?n:[],"loading"!==t.readyState?e.apply(void 0,n):t.addEventListener("DOMContentLoaded",(function(){e.apply(void 0,n)}))}v(t,"click",".fsb-button",(function(e){var t=i===e.target;b(),t||f(e.target),e.preventDefault(),e.stopImmediatePropagation()})),v(t,"keydown",".fsb-button",(function(e){var t=e.target,n=t.nextElementSibling,i=!0;switch(e.key){case"ArrowUp":case"ArrowDown":case"Enter":case" ":f(t);break;default:g(e)?(f(t),m(n)):i=!1}i&&e.preventDefault()})),v(t.documentElement,"mousemove",".fsb-option",(function(e){e.target.focus()})),v(t,"click",".fsb-option",(function(e){p(e.target),b(!0)})),v(t,"keydown",".fsb-option",(function(e){var t=e.target,n=t.parentNode,i=!0;switch(e.key){case"ArrowUp":case"ArrowLeft":t.previousElementSibling&&t.previousElementSibling.focus();break;case"ArrowDown":case"ArrowRight":t.nextElementSibling&&t.nextElementSibling.focus();break;case"Home":n.firstElementChild.focus();break;case"End":n.lastElementChild.focus();break;case"PageUp":case"PageDown":break;case"Tab":p(t),b(),i=!1;break;case"Enter":case" ":p(t);case"Escape":b(!0);break;default:g(e)?m(n):i=!1}i&&e.preventDefault()})),v(t,"click",(function(e){b()})),e.FancySelect=function(){function e(){E(s)}return e.init=s,e.replace=o,e.update=c,e}(),n&&E(s)}(window,document,"undefined"==typeof FancySelectAutoInitialize||FancySelectAutoInitialize);